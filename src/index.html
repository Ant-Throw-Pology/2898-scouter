<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>2898 Scouter</title>
        <script>
            // https://www.joshwcomeau.com/react/dark-mode/
            function getInitialColorMode() {
                const persistedColorPreference =
                    window.localStorage.getItem('color-mode');
                const hasPersistedPreference =
                    typeof persistedColorPreference === 'string';
                
                // If the user has explicitly chosen light or dark,
                // let's use it. Otherwise, this value will be null.
                if (hasPersistedPreference) {
                    return persistedColorPreference;
                }
                
                // If they haven't been explicit, let's check the media query
                const mql = window.matchMedia('(prefers-color-scheme: dark)');
                const hasMediaQueryPreference = typeof mql.matches === 'boolean';
                
                if (hasMediaQueryPreference) {
                    return mql.matches ? 'dark' : 'light';
                }
                
                // If they are using a browser/OS that doesn't support
                // color themes, let's default to 'light'.
                return 'light';
            }
            let theme = getInitialColorMode();
            document.documentElement.style.setProperty("--color", theme == "light" ? "#111" : "#eee");
            document.documentElement.style.setProperty("--bg", theme == "light" ? "#eee" : "#111");
        </script>
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <div id="header">
            <div>2898 Scouter</div>
            <button id="theme-reset" title="Device default theme">ðŸ’»</button>
            <button id="theme-toggle" title="Toggle theme (currently light)"></button>
            <script>
                document.getElementById("theme-toggle").innerText = theme == "light" ? "â˜€" : "ðŸŒ™";
                document.getElementById("theme-toggle").title = `Toggle theme (currently ${theme})`;
                document.getElementById("theme-toggle").addEventListener("click", function() {
                    theme = {light: "dark", dark: "light"}[theme];
                    document.documentElement.style.setProperty("--color", theme == "light" ? "#111" : "#eee");
                    document.documentElement.style.setProperty("--bg", theme == "light" ? "#eee" : "#111");
                    this.innerText = theme == "light" ? "â˜€" : "ðŸŒ™";
                    this.title = `Toggle theme (currently ${theme})`;
                    localStorage.setItem("color-mode", theme);
                });
                document.getElementById("theme-reset").addEventListener("click", function() {
                    localStorage.removeItem("color-mode");
                    theme = getInitialColorMode();
                    document.documentElement.style.setProperty("--color", theme == "light" ? "#111" : "#eee");
                    document.documentElement.style.setProperty("--bg", theme == "light" ? "#eee" : "#111");
                    document.getElementById("theme-toggle").innerText = theme == "light" ? "â˜€" : "ðŸŒ™";
                    document.getElementById("theme-toggle").title = `Toggle theme (currently ${theme})`;
                });
            </script>
        </div>
        <div id="panels">
            <div id="panel-onboarding-1" class="panel">
                <h1>Welcome to 2898 Scouter</h1>
                <label for="onboarding-name">Name</label>
                <input type="text" name="onboarding-name" id="onboarding-name" autocomplete="given-name">
                <br>
                <span>Scouting Role</span>
                <span id="onboarding-role-c">
                    <input type="radio" name="onboarding-role" id="onboarding-role-stands"><label for="onboarding-role-stands">Stands</label>
                    <input type="radio" name="onboarding-role" id="onboarding-role-pits"><label for="onboarding-role-pits">Pits</label>
                </span>
                <br>
                <button id="onboarding-1-continue">Next</button>
            </div>
            <div id="panel-onboarding-2" class="panel" inert style="opacity: 0">
                <button id="onboarding-storage-folder">Open Folder</button>
                <span>(Requires support for the File System Access API)</span>
                <hr>
                <label for="onboarding-storage-local-item">Select Local Storage Key</label>
                <input type="text" name="onboarding-storage-local-item" id="onboarding-storage-local-item" list="onboarding-storage-local-items">
                <datalist id="onboarding-storage-local-items"></datalist>
                <button id="onboarding-2-continue">Next</button>
            </div>
            <div id="panel-configuration" class="panel" inert style="opacity: 0"></div>
            <div id="panel-teams" class="panel" inert style="opacity: 0">
                <h2>Teams</h2>
            </div>
            <div id="panel-scout" class="panel" inert style="opacity: 0">
                <div>
                    <span id="scout-team-number"></span>
                    <span id="scout-team-name"></span>
                    <span id="scout-team-location"></span>
                </div>
            </div>
        </div>
        <script src="index.js"></script>
    </body>
</html>